{"version":3,"sources":["../server/server.js"],"names":["app","use","express","extended","set","process","env","PORT","get","req","res","sendFile","__dirname","post","connection","host","user","password","database","connect","body","Nombre","Apellidos","Cargo","Tratamiento","FechaNacimiento","FechaContratacion","Direccion","Ciudad","Region","CodPostal","Pais","TelDomicilio","Extension","Notas","Jefe","query","error","results","fields","status","send","end","newId","IdEmpleado","mysqlQuery","listen","console","log"],"mappings":"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","sourcesContent":["import express from 'express';\nimport { join } from 'path';\nimport { createConnection } from 'mysql';\nimport { json, urlencoded } from 'body-parser';\nimport UpdateSchema from './ServerComponents/UpdateSchema/UpdateSchema';\n\nconst app = express();\n\nUpdateSchema();\n\napp.use(express.static('public'))\napp.use('/post', json());\napp.use('/post', urlencoded({ extended: true }));\napp.set('port', process.env.PORT || 4020)\n\napp.get('/', (req, res) => {\n  res.sendFile(join(__dirname, 'index.html'));\n});\n\napp.post('/post', (req, res) => {\n  const connection = createConnection({\n    host     : 'us-cdbr-iron-east-03.cleardb.net',\n    user     : 'b7282d3c829f44',\n    password : '49ad92bf',\n    database : 'heroku_8e679e6d32fb43a'\n  });\n  connection.connect();\n  const {Nombre, Apellidos, Cargo, Tratamiento, FechaNacimiento, FechaContratacion, Direccion, Ciudad, Region, CodPostal, Pais, TelDomicilio, Extension, Notas, Jefe} = req.body;\n  \n  connection.query('select IdEmpleado from empleados order by IdEmpleado desc limit 0, 1;', (error, results, fields) => {\n    if (error) {\n      res.status(400).send(\"unable to save to database\");\n      connection.end();\n      throw error;\n    }\n    const newId = results[0].IdEmpleado + 1;\n    const mysqlQuery = `INSERT INTO empleados ( IdEmpleado, Nombre, Apellidos, Cargo, Tratamiento, FechaNacimiento, FechaContratación, Dirección, Ciudad, Región, CódPostal, País, TelDomicilio, Extensión, Notas, Jefe)\n                      values ( ${newId}, '${Nombre}', '${Apellidos}', '${Cargo}', '${Tratamiento}', '${FechaNacimiento}', '${FechaContratacion}',\n                       '${Direccion}', '${Ciudad}', '${Region}', '${CodPostal}', '${Pais}', '${TelDomicilio}', ${Extension}, '${Notas}',\n                      '${Jefe}');`;\n\n                      connection.query(mysqlQuery, (error, results, fields) => {\n                        if (error) {\n                          res.status(400).send(\"unable to save to database\");\n                          connection.end();\n                          throw error;\n                        }\n                        res.send(\"item saved to database\");\n                        connection.end();\n                      });\n            });\n\n});\n\napp.listen(process.env.PORT || 4020, function() {\n    console.log('Your node js server is running');\n});\n"],"file":"server.js"}